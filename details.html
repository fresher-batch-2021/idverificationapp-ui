<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APPLICANTDETAILS</title>
    <style>
table{
    width: 850px;
    height: 580px;
    margin: auto;
    padding: 20px 20px 20px 20px;
    border-radius: 20px;
    border-style: solid;
}
.buttonplace{
    margin-top: 1%;
    margin-bottom: 2%;
    text-align: center;
}
h4{
    float: right;
    margin-right: 5%;
}
h3{
    text-align: center;
}

 </style>
</head>

<body>
    <div class="usernametopview">
        <label>USERNAME :</label>
        <label id="userNameView"></label>
  </div>
    <a href="logoutpage.html"> <h4>LOGOUT</h4> </a>
    <form action="lastpage.html">
    <div class="align">
        <h3>APPLICANTDETAILS</h3>
    <table>
        <caption></caption>
        <tr>
            <th scope="row"> NAME:</th>
            <td id="username"></td>
        </tr>
        <tr>
            <th scope="row"> FATHERNAME:</th>
            <td id="fathername"></td>
        </tr>
        <tr>
            <th scope="row"> MOTHERNAME:</th>
            <td id="mothername"></td>
        </tr>
        <tr>
            <th scope="row"> MOBILENUMBER:</th>
            <td id="mobilenumber"></td>
        </tr>
        <tr>
            <th scope="row"> EMAILID:</th>
            <td id="emailid"></td>
        </tr>
        <tr>
            <th scope="row"> DATEOFBIRTH:</th>
            <td id="dateofbirth"></td>
        </tr>
        <tr>
            <th scope="row"> AADHARNUMBER:</th>
            <td id="aadharnumber"></td>
        </tr>
        <tr>
            <th scope="row"> GENDER:</th>
            <td id="gender"></td>
        </tr>
        <tr>
            <th scope="row">HOUSENUMBER :</th>
            <td id="house"></td> 
        </tr>
        <tr>
            <th scope="row"> STREET NAME:</th> 
            <td id="street"></td>
        </tr>
    <tr>
        <th scope="row"> CITY :</th>
            <td id="city"></td>
        </tr>
        <tr>
            <th scope="row"> STATE:</th>
            <td id="state"></td>
        </tr>
        <tr>
            <th scope="row"> PINCODE:</th>
            <td id="pin"></td>
        </tr>
    </table>
<div class="buttonplace">
   <button> <a href="editdetails.html" >EDIT</a>&nbsp;&nbsp;&nbsp;&nbsp;</button>
    <input type="submit" id="submit" onclick="alert('Your Application Is Successfull Submitted')" >

    <button onclick="window.print()">Print this page</button>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"
    integrity="sha512-bZS47S7sPOxkjU/4Bt0zrhEtWx0y0CRkhEp8IckzK+ltifIIE9EMIMTuT/mEzoIMewUINruDBIR/jJnbguonqQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer">
</script>

</div>
</form>
</div>
<script>
        let indexfile=JSON.parse(localStorage.getItem('indexform'));
        console.log(indexfile);
       

document.querySelector("#username").innerHTML = indexfile.Name;
document.querySelector("#fathername").innerHTML = indexfile.FatherName;
document.querySelector("#mothername").innerHTML=indexfile.MotherName;
document.querySelector("#mobilenumber").innerHTML=indexfile.MobileNumber;
document.querySelector("#emailid").innerHTML=indexfile.EmailID;
document.querySelector("#dateofbirth").innerHTML=indexfile.DateOfBirth;
document.querySelector("#aadharnumber").innerHTML=indexfile.AadharNumber;
document.querySelector("#gender").innerHTML=indexfile.Gender;

let addressFile=JSON.parse(localStorage.getItem('address'));
        console.log(addressFile);

document.querySelector("#house").innerHTML = addressFile.HouseNumber;
document.querySelector("#street").innerHTML = addressFile.StreetName;
document.querySelector("#city").innerHTML = addressFile.CityName;
document.querySelector("#state").innerHTML = addressFile.State;
document.querySelector("#pin").innerHTML = addressFile.pinNumber;

let modifydetailfile=JSON.parse(localStorage.getItem('modifyform'));
     console.log(modifydetailfile)
 
document.querySelector("#username").innerHTML =modifydetailfile.Name;    
document.querySelector("#fathername").innerHTML = modifydetailfile.Fathername;
document.querySelector("#mothername").innerHTML = modifydetailfile.Mothername;
document.querySelector("#mobilenumber").innerHTML = modifydetailfile.MobileNumber;
document.querySelector("#emailid").innerHTML = modifydetailfile.EmailId;
document.querySelector("#dateofbirth").innerHTML = modifydetailfile.DateOfbirth;
document.querySelector("#aadharnumber").innerHTML = modifydetailfile.AadharNumber;
document.querySelector("#gender").innerHTML = modifydetailfile.Gender;

document.querySelector("#house").innerHTML = modifydetailfile.HouseNo;
document.querySelector("#street").innerHTML = modifydetailfile.StreetName;
document.querySelector("#city").innerHTML = modifydetailfile.CityName;
document.querySelector("#state").innerHTML = modifydetailfile.StateName;
document.querySelector("#pin").innerHTML = modifydetailfile.PinCode;

let personobj={
    "FirstName":modifydetailfile.Name,
    "FatherName":modifydetailfile.Fathername,
    "MotherName":modifydetailfile.Mothername,
    "MobileNumber":modifydetailfile.MobileNumber,
    "EmailID":modifydetailfile.EmailId,
    "DataOfBirth": modifydetailfile.DateOfbirth,
    "AadharNumber": modifydetailfile.AadharNumber,
    "Gender":modifydetailfile.Gender,

    "HouseNumber":modifydetailfile.HouseNo,
    "StreetName":modifydetailfile.StreetName,
    "CityName": modifydetailfile.CityName,
    "StateName":modifydetailfile.StateName,
    "PinCode":modifydetailfile.PinCode
    }
    console.log(personobj)
</script>


<script>
    let nameFile = JSON.parse(localStorage.getItem('nameform'));
    console.log(nameFile);
    document.querySelector("#userNameView").innerHTML = nameFile.userName;


    const dbUsername = 'apikey-v2-2q4ay3thu4r9w4i4o1vr74ypzd4tyr1lzxlt9916cky2';
        const dbPassword = 'bd763fb0b51e2d8e968a8154ae9b7869';
        const basicAuth = 'Basic ' + btoa(dbUsername + ':' + dbPassword);
        
    const url = "https://aacd9391-7b8b-4ac4-b12c-6b785e540ced-bluemix.cloudantnosqldb.appdomain.cloud/idproof_personaldetails"

    axios.post(url, personobj,{ headers: {'Authorization': basicAuth }}).then(res => {
            console.log(personobj);
            alert("successfull")
          }).catch(err => alert("error "))
</script>

</body>
</html> 